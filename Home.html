<!DOCTYPE html>
<html><head>
<meta name="viewport" content="width=device-width, initial-scale=1"> 
<meta charset="utf-8"><meta http-equiv="refresh" content="0;url=./">
<style>
/* Basic responsive tweaks added by assistant */
meta[name="viewport"]{}

/* Ensure form containers wrap nicely */
.nicepage-form, form {
  max-width: 700px;
  width: 100%;
  box-sizing: border-box;
}

/* Make input fields fluid */
.nicepage-form input[type="text"],
.nicepage-form input[type="email"],
.nicepage-form textarea,
input[type="text"],
input[type="email"],
textarea {
  width: 100% !important;
  box-sizing: border-box;
}

/* Responsive columns fallback */
.form-columns {
  display: flex;
  gap: 24px;
  flex-wrap: wrap;
}
.form-columns > * {
  flex: 1 1 240px;
  min-width: 180px;
}

/* Message box style */
.formspree-message {
  font-size: 15px;
}

/* Media queries for smaller screens */
@media (max-width: 768px) {
  .form-columns {
    gap: 12px;
  }
  .nicepage-form, form { padding: 0 12px; }
}
</style>
</head><body>
<script>
document.addEventListener('DOMContentLoaded', function () {
  // Replace with your Formspree endpoint (get from https://formspree.io)
  const FORMSPREE_ENDPOINT = "https://formspree.io/f/YOUR_FORM_ID";

  function handleForm(form) {
    if (!form) return;
    // prevent duplicate injection
    if (form.dataset.formspreeHandled) return;
    form.dataset.formspreeHandled = "1";

    // remove any PHP action
    form.removeAttribute('action');

    form.addEventListener('submit', function(e) {
      e.preventDefault();
      const submitBtn = form.querySelector('button[type="submit"], input[type="submit"]');
      if (submitBtn) submitBtn.disabled = true;

      const data = new FormData(form);
      // send to Formspree
      fetch(FORMSPREE_ENDPOINT, {
        method: 'POST',
        headers: {
          'Accept': 'application/json'
        },
        body: data
      }).then(function(response) {
        if (response.ok) {
          showMessage(form, true, "Thank you! Your message has been sent.");
          form.reset();
        } else {
          response.json().then(function(data){
            let msg = "Submission failed.";
            if (data && data.error) msg = data.error;
            showMessage(form, false, msg);
          }).catch(function(){
            showMessage(form, false, "Submission failed. Please try again later.");
          });
        }
      }).catch(function() {
        showMessage(form, false, "Network error. Please check your connection.");
      }).finally(function(){
        if (submitBtn) submitBtn.disabled = false;
      });
    });
  }

  function showMessage(form, success, text) {
    let box = form.querySelector('.formspree-message');
    if (!box) {
      box = document.createElement('div');
      box.className = 'formspree-message';
      form.appendChild(box);
    }
    box.textContent = text;
    box.style.padding = '12px';
    box.style.marginTop = '12px';
    box.style.borderRadius = '6px';
    box.style.background = success ? 'rgba(46, 204, 113, 0.12)' : 'rgba(231, 76, 60, 0.12)';
    box.style.color = success ? 'rgb(46, 204, 113)' : 'rgb(231, 76, 60)';
  }

  // find forms that reference contact.php or have recaptcha notice or class names from Nicepage contact forms
  const forms = Array.from(document.querySelectorAll('form'));
  forms.forEach(f => {
    const html = f.innerHTML.toLowerCase();
    const action = (f.getAttribute('action') || "").toLowerCase();
    if (action.includes('contact.php') || html.includes('recaptcha') || html.includes('terms of service') || f.className.toLowerCase().includes('contact')) {
      handleForm(f);
    }
  });

  // also attempt to attach to forms with typical Nicepage structure
  const maybe = document.querySelectorAll('form');
  maybe.forEach(handleForm);
});
</script>
</body></html>